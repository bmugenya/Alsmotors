<script src="/static/assets/js/core/popper.min.js" type="text/javascript"></script>
<script src="/static/assets/js/core/bootstrap.min.js" type="text/javascript"></script>
<script src="/static/assets/js/plugins/perfect-scrollbar.min.js"></script>
<!--  Plugin for TypedJS, full documentation here: https://github.com/inorganik/CountUp.js -->
<script src="/static/assets/js/plugins/countup.min.js"></script>
<!--  Plugin for Parallax, full documentation here: https://github.com/dixonandmoe/rellax -->
<script src="/static/assets/js/plugins/rellax.min.js"></script>
<!--  Plugin for TiltJS, full documentation here: https://gijsroge.github.io/tilt.js/ -->
<script src="/static/assets/js/plugins/tilt.min.js"></script>
<!--  Plugin for Selectpicker - ChoicesJS, full documentation here: https://github.com/jshjohnson/Choices -->
<script src="/static/assets/js/plugins/choices.min.js"></script>
<!--  Plugin for Parallax, full documentation here: https://github.com/wagerfield/parallax  -->
<script src="/static/assets/js/plugins/parallax.min.js"></script>
<!-- Control Center for Material UI Kit: parallax effects, scripts for the example pages etc -->
<!--  Google Maps Plugin    -->

<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDTTfWur0PDbZWPr7Pmq8K3jiDp0_xUziI"></script>
<script src="/static/assets/js/material-kit.min.js?v=3.0.0" type="text/javascript"></script>


<script src="https://cdn.jsdelivr.net/npm/swiper@9.0.1/swiper-bundle.min.js"></script>

<script type="text/javascript">

const sliderContainer = document.querySelector('.slider-container');

let currentSlide = 1;
const slideCount = sliderContainer.childElementCount - 2;

function showSlide(index) {
  sliderContainer.style.transform = `translateY(-${index * 100 / (slideCount + 2)}%)`;
  currentSlide = index;
}

function nextSlide() {
    slides[currentSlide].className = 'slide';
    currentSlide = (currentSlide >= slides.length - 1) ? 0 : currentSlide + 1;
    slides[currentSlide].className = 'slide showing';
}

function prevSlide() {
  currentSlide--;
  if (currentSlide < 1) {
    currentSlide = slideCount;
  }
  showSlide(currentSlide);
}

setInterval(nextSlide, 5000);



  // get the element to animate
  var element = document.getElementById('count-stats');
  var elementHeight = element.clientHeight;

  // listen for scroll event and call animate function

  document.addEventListener('scroll', animate);

  // check if element is in view
  function inView() {
    // get window height
    var windowHeight = window.innerHeight;
    // get number of pixels that the document is scrolled
    var scrollY = window.scrollY || window.pageYOffset;
    // get current scroll position (distance from the top of the page to the bottom of the current viewport)
    var scrollPosition = scrollY + windowHeight;
    // get element position (distance from the top of the page to the bottom of the element)
    var elementPosition = element.getBoundingClientRect().top + scrollY + elementHeight;

  // is scroll position greater than element position? (is element in view?)
  if (scrollPosition > elementPosition) {
    return true;
  }

  return false;
}

  // get the element to animate

var animateComplete = true;

function animate() {
  var element = document.getElementById('count-stats');

  if (inView(element)) {
    if (animateComplete) {
      var state1Element = document.getElementById('state1');

      if (state1Element) {
        const countUp = new CountUp('state1', state1Element.getAttribute('countTo'));

        if (!countUp.error) {
          countUp.start();
        } else {
          console.error(countUp.error);
        }
      }

      animateComplete = false;
    }
  } else {
    animateComplete = true;
  }
}

  if (document.getElementById('typed')) {
    var typed = new Typed("#typed", {
      stringsElement: '#typed-strings',
      typeSpeed: 90,
      backSpeed: 90,
      backDelay: 200,
      startDelay: 500,
      loop: true
    });
  }

  if (document.getElementsByClassName('page-header')) {
    window.onscroll = debounce(function () {
      var scrollPosition = window.pageYOffset;
      var bgParallax = document.querySelector('.page-header');
      var oVal = (window.scrollY / 3);
      bgParallax.style.transform = 'translate3d(0,' + oVal + 'px,0)';
    }, 6);
  }



  //Get the button
  let mybutton = document.getElementById("btn-back-to-top");

  // When the user scrolls down 20px from the top of the document, show the button
  window.onscroll = function () {
    scrollFunction();
  };

  function scrollFunction() {
    if (
      document.body.scrollTop > 20 || document.documentElement.scrollTop > 20
    ) {
      mybutton.style.display = "block";
        mybutton.classList.add('visible');
    mybutton.classList.remove('hidden');
    } else {
      mybutton.style.display = "none";
         mybutton.classList.remove('visible');
    mybutton.classList.add('hidden');
    }
  }
  // When the user clicks on the button, scroll to the top of the document
  mybutton.addEventListener("click", backToTop);

  function backToTop() {
    document.body.scrollTop = 0;
    document.documentElement.scrollTop = 0;
  }




  var swiper = new Swiper(".vehicles-slider", {

    grabCursor: true,
    centeredSlides: true,
    spaceBetween: 20,
    loop: true,
    autoplay: {
      delay: 3800,
      disableOnInteraction: false,
    },
    pagination: {
      el: ".swiper-pagination",
      clickable: true,
    },
    breakpoints: {
      0: {
        slidesPerView: 1,
      },
      768: {
        slidesPerView: 2,
      },
      1024: {
        slidesPerView: 3,
      },
    },
  });



  var swiper = new Swiper(".test-slider", {
    grabCursor: true,
    centeredSlides: true,
    spaceBetween: 20,
    loop: true,
    autoplay: {
      delay: 4800,
      disableOnInteraction: false,
    },
    pagination: {
      el: ".swiper-pagination",
      clickable: true,
    },
    breakpoints: {
      0: {
        slidesPerView: 1,
      },
      768: {
        slidesPerView: 2,
      },
      1024: {
        slidesPerView: 3,
      },
    },
  });


</script>